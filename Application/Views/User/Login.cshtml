@{
	ViewData["Title"] = "Login";
}

@model Application.Models.LoginModel


@if (TempData["success"] is not null)
{
	<div class="alert alert-success" role="alert">
		@TempData["success"]
	</div>
}


<div class="container mt-5">
	<h2>Login</h2>
	<hr />

	@using (Html.BeginForm("Login", "User", FormMethod.Post, new { @class = "needs-validation", @novalidate = "novalidate" }))
	{
		@Html.AntiForgeryToken()

		
		<div class="row">
			<div class="col-md-4">
				<div class="form-group mb-3">
					@Html.LabelFor(m => m.Email, new { @class = "form-label fw-bold" })
					<span class="text-danger">*</span>
					@Html.TextBoxFor(m => m.Email, new { @class = "form-control", placeholder = "Enter your email"})
					@Html.ValidationMessageFor(m => m.Email, "", new { @class = "text-danger" })
				</div>
			</div>
			<div class="col-md-4">
				<div class="form-group mb-3">
					@Html.LabelFor(m => m.Password, new { @class = "form-label fw-bold" })
					<span class="text-danger">*</span>
					@Html.PasswordFor(m => m.Password, new { @class = "form-control", placeholder = "Enter your password" })
					@Html.ValidationMessageFor(m => m.Password, "", new { @class = "text-danger" })
				</div>
			</div>
		</div>

		@if(TempData["error"] is not null)
		{
			<div class="alert alert-danger" role="alert">
				@TempData["error"]
			</div>
		}

		<div class="form-group ">
			<button type="submit" class="btn btn-primary">Login</button>

		</div>

		<p class="mt-3">Don't have account? @Html.ActionLink("Click here to register", "Register", "User")</p>


		@if (TempData["SuccessMessage"] != null)
		{
			<div class="alert alert-success mt-3 text-center">
				@TempData["SuccessMessage"]
			</div>
		}
	}
</div>
